{%extends 'base.html'%}

{%block content%}
<section class="max-w-7xl mx-auto my-5">
  <h1 class="text-3xl mb-3">Kategori Yönetimi</h1>
  {%for message in messages%}
  {%include 'alert.html' with message=message tag=message.tags%}
  {%endfor%}
  <div class="grid grid-cols-2 gap-4">
    {%if perms.category.add_category%}
    <form method="post" class="my-3 flex flex-col gap-5" enctype="multipart/form-data">
      {%csrf_token%}
      <label for="">Kategori Adı</label>
      <input type="text" class="border border-slate-300 p-2" name="category_name" placeholder="Kategori adını gir">
      <label for="">Resim Seç</label>
      <input class="file:bg-violet file:text-violet-600 " name="file" type="file" accept="image/*" />
      <button class="bg-blue-50 text-blue-700 px-4 py-2 ">Ekle</button>
    </form>
    {%endif%}
    <div class="grid grid-cols-3 gap-3 ">
      {%for category in category_list%}
      <div class="rounded-md shadow-md p-4 border border-slate-300">
        <p class="text-xl mb-3 font-bold">{{category.category_name}}</p>
        <img src="{{category.category_image.url}}" alt="">
        <div class="flex flex-col gap-3">
          <a href="{%url 'category_details' category.id%}" class="bg-blue-50 text-blue-700 py-2 px-4 text-center">Gözat</a>
          <a href="{%url 'category_delete' category.id%}" class="bg-red-50 text-red-700 py-2 px-4 text-center">Sil</a>
          <a href="{%url 'category_update' category.id%}" class="bg-amber-50 text-amber-700 py-2 px-4 text-center">Güncelle</a>
        </div>
      </div>
      {%endfor%}
    </div>
  </div>
</section>

{%endblock%}
